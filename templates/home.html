<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breast Cancer Prediction Portfolio Project</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <main class="container">
        <section class="hero">
            <h1>Breast Cancer Diagnosis Predictor</h1>
            <p>A portfolio-ready machine learning application built with scikit-learn + Flask.</p>
        </section>

        <section class="card metrics">
            <h2>Model Performance Snapshot</h2>
            {% if metrics %}
            <ul>
                <li><strong>Selected model:</strong> {{ metrics.selected_model }}</li>
                <li><strong>Test Accuracy:</strong> {{ metrics.test_accuracy }}</li>
                <li><strong>Test ROC-AUC:</strong> {{ metrics.test_roc_auc }}</li>
            </ul>
            {% else %}
            <p>No metrics found yet. Run <code>python train.py</code> first.</p>
            {% endif %}
        </section>

        <section class="card">
            <h2>Interactive Prediction Form</h2>
            <form action="/predict" method="post" class="feature-grid">
                {% for feature in features %}
                <label>
                    <span>{{ feature }}</span>
                    <input type="number" step="any" name="{{ feature }}" value="{{ submitted_values[feature] if submitted_values else '' }}" required>
                </label>
                {% endfor %}
                <button type="submit">Predict Diagnosis</button>
            </form>
        </section>

        {% if prediction %}
        <section class="card result">
            <h2>Prediction Result</h2>
            <p>Diagnosis: <strong>{{ prediction.prediction_label|capitalize }}</strong></p>
            <p>Confidence: <strong>{{ prediction.confidence }}</strong></p>
        </section>
        {% endif %}

        {% if error %}
        <section class="card error">
            <h2>Input Error</h2>
            <p>{{ error }}</p>
        </section>
        {% endif %}
    </main>
</body>
</html>